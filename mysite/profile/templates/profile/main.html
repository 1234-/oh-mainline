{% extends 'profile/base_profile.html' %}

{% block title %}
{{ person.get_full_name_or_username }}
{% endblock title %}

{% block main %}
<div id='portfolio' class='module project-display viewer'>
    <div class='head'>
        {% if editable %}
        <ul>
            <li>
            <a href='{% url mysite.profile.views.portfolio_editor %}'>
                Add/edit projects &raquo;
            </a>
            </li>
        </ul>
        {% endif %}
        <h3>Projects</h3>
    </div>
    <div class='body'>
        {% with person.get_published_portfolio_entries as portfolio_entries %} 
            {% if portfolio_entries %}
                <ul>
                    {% for pf_entry in portfolio_entries %}
                    {% include 'profile/portfolio/portfolio_entry_element.html' %}
                    {% endfor %}
                </ul>
            {% else %}
                {% if editable %}
                {# YOUR profile lacks projects. #}
                <style>
                    body.two_columns #portfolio.module > .body { width: 97%; padding: 10px; }
                    body.two_columns #portfolio .notification { width: 94%; margin: 0; }
                    body.two_columns #portfolio a .notification .arrow { float: right; font-size: 6.0em; line-height: 50%; color: orange; }
                    body.two_columns #portfolio a:hover strong { text-decoration: underline;  }
                    body.two_columns #portfolio a:hover .notification .arrow { color: #ff6d3d;  }
                    body.two_columns #portfolio .get-involved { background-color: #666; padding: 8px; color: #fff; float: left; }
                    body.two_columns #portfolio strong { color: #ff6d3d; font-size: 1.7em; text-shadow: 0 1px 0 rgb(200, 200, 200, .5); width: 100%; display: block; }
                    body.two_columns #portfolio .smaller strong { font-size: 1.2em; }
                    body.two_columns #portfolio a .notification.smaller .arrow { font-size: 4em; }
                    body.two_columns #portfolio a .notification.smaller strong { font-size: 1.2em; }
                    body.two_columns #portfolio .body li { float: left; width: 100%;  }
                    body.two_columns #portfolio .body li:first-child { margin-bottom: 5px; }
                    body.two_columns #portfolio .body { background: #fff; }
                </style>

                <ul>
                    <li>
                    <a href='{% url mysite.profile.views.portfolio_editor %}'>
                        <div class='notification'>
                            <div class='arrow' style=''>&rarr; <!--&#9654;--></div>
                            <strong>
                                Aggregate your open source involvement 
                            </strong>
                            <span style='font-size: 1.2em;'>
                                Add projects automagically by providing your usernames.
                                We'll find your bug reports, translations, patches, and code commits.
                            </span>
                        </div>
                    </a>
                    </li>

                    <li>
                    <a href='{% url mysite.profile.views.portfolio_editor %}'>
                        <div class='notification smaller'>
                            <div class='arrow' style=''>&rarr; <!--&#9654;--></div>
                            <span>
                                Want something to put here?
                            </span>
                            <strong>
                                Find a bug or other volunteering opportunity
                            </strong>
                        </div>
                    </a>
                    </li>
                </ul>

                {# To find things to do in the open source community, use our volunteer opportunity finder.   #}
                {# <a href='{% url mysite.search.views.fetch_bugs %}'>find a bug to work on</a>. <a href='{% url mysite.search.views.fetch_bugs %}'>find someone near you to work with</a>#}

                {% else %}
                {# Someone else's profile lacks projects. #}
                <small style='color: #777;'>Nothing listed yet.</small>
                {% endif %}
            {% endif %}
        {% endwith %}

    </div>
</div> <!-- /#portfolio -->
{% endblock main %}
