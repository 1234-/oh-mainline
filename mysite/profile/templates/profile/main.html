{% extends 'profile/base_profile.html' %}

{% block title %}
{{ person.get_full_name_or_username }}'s portfolio | OpenHatch
{% endblock title %}

{% block css %}
{{ block.super }}
@import url('/static/css/profile/portfolio.css');
{% endblock css %}

{% block main %}
<div id='portfolio' class='module project-display'>
    <div class='head'>
        {% if editable %}
        <ul>
            <li>
            <a href='/form/projectexp_add'>
                Add one
            </a>
            </li>
            <li>
            <a href='/people/portfolio/import'>
                Import lots
            </a>
            </li>
        </ul>
        {% endif %}
        <h3>Portfolio</h3>
    </div>
    <div class='body'>
        {% with person.get_published_portfolio_entries as portfolio_entries %} 
        {% if portfolio_entries %}
        <ul>
            {% for pf_entry in portfolio_entries %}
            {% with pf_entry.project as project %}
            <li>
            <div class='project-escutcheon'>
                <div class='logo'>
                    <a href='/people/{{ person.user.username }}/projects/{{ project.name }}'>
                        <img alt='logo for {{ project.name}}'
                        src='{{ project.get_url_of_icon_or_generic }}'/>
                    </a>
                </div>
                <a href='/people/{{ person.user.username }}/projects/{{ project.name }}' class='name'>{{ project.name }}
                </a>
                {% if editable %}
                <a style='display: inline; float: right;'
                    href='{% url mysite.profile.views.portfolio_editor %}' 
                    class='edit-link'>edit</a>
                {% endif %}
            </div>
            </li>
            {% endwith %}
            {% endfor %}
        </ul>
        {% else %}
        {% if editable %}
        <div id='add_contribs_notification' class='notification'>
            <div class='body'>
                If you've contributed to open source, click one of the links on the right to start your contribution portfolio. If you're a new contributor, go forth and find a bug to  work on! (Coming soon: Mentoring for everybody weathered or new.)
            </div>
        </div>
        {% endif %}
        <div style='float: left; font-size: 10pt; padding: 10px 20px; width: 500px;'>This person hasn't listed any contributions yet.</div>
        {% endif %}
        {% endwith %}
    </div>
</div> <!-- /#portfolio -->
{% endblock main %}

{% block js %}
{{ block.super }}
<script src='/static/js/profile/portfolio.js'></script>
{% endblock %}
